{"version":3,"file":"index-C_S_BHFO.js","sources":["../../src/game/Player.ts","../../src/game/Turtle.ts","../../src/game/BaseLevel.ts","../../src/game/Level.ts","../../src/game/FlyingEnemy.ts","../../src/game/Level2.ts","../../src/game/InputManager.ts","../../src/game/Game.ts","../../src/main.ts"],"sourcesContent":["import { InputManager } from './InputManager';\r\n\r\nexport class Player {\r\n  public x: number;\r\n  public y: number;\r\n  private width: number = 32;\r\n  private height: number = 32;\r\n  private velocityX: number = 0;\r\n  private velocityY: number = 0;\r\n  private speed: number = 200;\r\n  private jumpPower: number = 400;\r\n  private gravity: number = 800;\r\n  private onGround: boolean = false;\r\n  private lives: number = 3;\r\n\r\n  constructor(x: number, y: number) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  public update(deltaTime: number, inputManager: InputManager): void {\r\n    const dt = deltaTime / 1000; // Convert to seconds\r\n\r\n    // Handle horizontal movement\r\n    if (inputManager.isKeyPressed('ArrowLeft')) {\r\n      this.velocityX = -this.speed;\r\n    } else if (inputManager.isKeyPressed('ArrowRight')) {\r\n      this.velocityX = this.speed;\r\n    } else {\r\n      this.velocityX = 0;\r\n    }\r\n\r\n    // Handle jumping\r\n    if (inputManager.isKeyPressed('Space') && this.onGround) {\r\n      this.velocityY = -this.jumpPower;\r\n      this.onGround = false;\r\n    }\r\n\r\n    // Apply gravity\r\n    this.velocityY += this.gravity * dt;\r\n\r\n    // Update position\r\n    this.x += this.velocityX * dt;\r\n    this.y += this.velocityY * dt;\r\n\r\n  // Keep player on screen (dynamic canvas width)\r\n  const canvas = document.getElementById('gameCanvas') as HTMLCanvasElement;\r\n  const maxWidth = canvas ? canvas.width : 1900;\r\n  if (this.x < 0) this.x = 0;\r\n  if (this.x + this.width > maxWidth) this.x = maxWidth - this.width;\r\n\r\n    // Reset ground state\r\n    this.onGround = false;\r\n  }\r\n\r\n  public render(ctx: CanvasRenderingContext2D): void {\r\n    // Draw Mario-like character (simple colored rectangle)\r\n    ctx.fillStyle = '#FF0000'; // Red body\r\n    ctx.fillRect(this.x, this.y, this.width, this.height);\r\n    \r\n    // Draw face\r\n    ctx.fillStyle = '#FFE4B5'; // Skin color\r\n    ctx.fillRect(this.x + 4, this.y + 4, 24, 16);\r\n    \r\n    // Draw eyes\r\n    ctx.fillStyle = '#000000';\r\n    ctx.fillRect(this.x + 8, this.y + 8, 4, 4);\r\n    ctx.fillRect(this.x + 20, this.y + 8, 4, 4);\r\n    \r\n    // Draw mustache\r\n    ctx.fillStyle = '#8B4513';\r\n    ctx.fillRect(this.x + 10, this.y + 12, 12, 4);\r\n    \r\n    // Draw hat\r\n    ctx.fillStyle = '#8B0000';\r\n    ctx.fillRect(this.x + 2, this.y, 28, 8);\r\n    \r\n    // Draw overalls\r\n    ctx.fillStyle = '#0000FF';\r\n    ctx.fillRect(this.x + 6, this.y + 20, 20, 12);\r\n    \r\n    // Draw buttons\r\n    ctx.fillStyle = '#FFD700';\r\n    ctx.fillRect(this.x + 10, this.y + 22, 4, 4);\r\n    ctx.fillRect(this.x + 18, this.y + 22, 4, 4);\r\n  }\r\n\r\n  public getBounds() {\r\n    return {\r\n      x: this.x,\r\n      y: this.y,\r\n      width: this.width,\r\n      height: this.height\r\n    };\r\n  }\r\n\r\n  public setPosition(x: number, y: number): void {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  public reset(x: number, y: number): void {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.velocityX = 0;\r\n    this.velocityY = 0;\r\n    this.onGround = false;\r\n  }\r\n\r\n  public setOnGround(onGround: boolean): void {\r\n    this.onGround = onGround;\r\n  }\r\n\r\n  public getVelocityY(): number {\r\n    return this.velocityY;\r\n  }\r\n\r\n  public setVelocityY(velocity: number): void {\r\n    this.velocityY = velocity;\r\n  }\r\n\r\n  public loseLife(): void {\r\n    this.lives -= 1;\r\n  }\r\n\r\n  public getLives(): number {\r\n    return this.lives;\r\n  }\r\n}\r\n","// Removed unused InputManager import\r\n\r\nexport class Turtle {\r\n  public x: number;\r\n  public y: number;\r\n  private width: number = 32;\r\n  private height: number = 32;\r\n  private velocityX: number = -50; // Default movement speed\r\n  // Removed unused onGround variable\r\n  private animationFrame: number = 0;\r\n  private animationTimer: number = 0;\r\n  private animationInterval: number = 200; // Milliseconds per frame\r\n\r\n  constructor(x: number, y: number) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  public update(deltaTime: number): void {\r\n    const dt = deltaTime / 1000; // Convert to seconds\r\n\r\n    // Move horizontally\r\n    this.x += this.velocityX * dt;\r\n\r\n    // Keep turtle on screen\r\n    if (this.x < 0 || this.x + this.width > 800) {\r\n      this.velocityX *= -1; // Reverse direction\r\n    }\r\n\r\n    // Update animation\r\n    this.animationTimer += deltaTime;\r\n    if (this.animationTimer >= this.animationInterval) {\r\n      this.animationFrame = (this.animationFrame + 1) % 2; // Toggle between 0 and 1\r\n      this.animationTimer = 0;\r\n    }\r\n  }\r\n\r\n  public render(ctx: CanvasRenderingContext2D): void {\r\n    // Draw turtle with animation\r\n    ctx.fillStyle = this.animationFrame === 0 ? '#008000' : '#006400'; // Alternate green shades\r\n    ctx.fillRect(this.x, this.y, this.width, this.height);\r\n\r\n    // Draw shell\r\n    ctx.fillStyle = '#654321'; // Brown shell\r\n    ctx.fillRect(this.x + 4, this.y + 8, 24, 16);\r\n  }\r\n\r\n  public isDefeated(): boolean {\r\n    // Placeholder for defeat logic\r\n    return false;\r\n  }\r\n\r\n  public getBounds() {\r\n    return {\r\n      x: this.x,\r\n      y: this.y,\r\n      width: this.width,\r\n      height: this.height,\r\n    };\r\n  }\r\n}","import { Player } from './Player';\r\n\r\nexport abstract class BaseLevel {\r\n  protected gameRunning: boolean = true; // Changed from private to protected\r\n\r\n  abstract update(deltaTime: number): void;\r\n  abstract render(ctx: CanvasRenderingContext2D): void;\r\n  abstract checkCollisions(player: Player): void;\r\n\r\n  public endGame(won: boolean): void {\r\n    this.gameRunning = false;\r\n    const message = document.createElement('div');\r\n    message.textContent = won ? 'You Win! Restarting...' : 'Game Over! Restarting...';\r\n    message.style.position = 'absolute';\r\n    message.style.top = '50%';\r\n    message.style.left = '50%';\r\n    message.style.transform = 'translate(-50%, -50%)';\r\n    message.style.color = 'white';\r\n    message.style.fontSize = '24px';\r\n    message.style.backgroundColor = 'rgba(0, 0, 0, 0.7)';\r\n    message.style.padding = '10px';\r\n    message.style.borderRadius = '5px';\r\n    document.body.appendChild(message);\r\n\r\n    setTimeout(() => window.location.reload(), 2000);\r\n  }\r\n}","import { Player } from './Player';\r\nimport { Turtle } from './Turtle';\r\nimport { Game } from './Game';\r\nimport { BaseLevel } from './BaseLevel';\r\n\r\nexport class Level extends BaseLevel {\r\n  protected platforms: Array<{x: number, y: number, width: number, height: number}> = []; // Changed from private to protected\r\n  protected turtles: Turtle[] = [];\r\n  protected gameRunning: boolean = true; // Flag to control game loop\r\n\r\n  constructor() {\r\n    super();\r\n    this.createLevel();\r\n    this.spawnTurtles();\r\n  }\r\n\r\n  protected createLevel(): void {\r\n  // Responsive ground platform (fills canvas width)\r\n  const canvas = document.getElementById('gameCanvas') as HTMLCanvasElement;\r\n  const width = canvas ? canvas.width : 1900;\r\n  const height = canvas ? canvas.height : 900;\r\n  // Ground height is 10% of screen height\r\n  const groundHeight = Math.round(height * 0.10);\r\n  this.platforms.push({ x: 0, y: height - groundHeight, width: width, height: groundHeight });\r\n\r\n  // Responsive floating platforms (relative positions)\r\n  this.platforms.push({ x: width * 0.12, y: height * 0.65, width: width * 0.08, height: 20 });\r\n  this.platforms.push({ x: width * 0.28, y: height * 0.52, width: width * 0.09, height: 20 });\r\n  this.platforms.push({ x: width * 0.45, y: height * 0.40, width: width * 0.09, height: 20 });\r\n  this.platforms.push({ x: width * 0.62, y: height * 0.30, width: width * 0.08, height: 20 });\r\n  this.platforms.push({ x: width * 0.75, y: height * 0.20, width: width * 0.07, height: 20 });\r\n  }\r\n\r\n  protected spawnTurtles(): void {\r\n    this.turtles.push(new Turtle(300, 518)); // Spawn a turtle on the ground\r\n    this.turtles.push(new Turtle(500, 518)); // Spawn another turtle\r\n  }\r\n\r\n  public update(deltaTime: number): void {\r\n    if (!this.gameRunning) return; // Skip update if game is not running\r\n\r\n    this.turtles.forEach(turtle => turtle.update(deltaTime));\r\n  }\r\n\r\n  public render(ctx: CanvasRenderingContext2D): void {\r\n    // Draw platforms\r\n    this.platforms.forEach((platform, idx) => {\r\n      if (idx === 0) {\r\n        // Ground platform: fill entire bottom\r\n        ctx.fillStyle = '#90EE90'; // Green ground\r\n        ctx.fillRect(0, platform.y, ctx.canvas.width, ctx.canvas.height - platform.y);\r\n      } else {\r\n        ctx.fillStyle = '#8B4513'; // Brown color for platforms\r\n        ctx.fillRect(platform.x, platform.y, platform.width, platform.height);\r\n        // Add some texture\r\n        ctx.fillStyle = '#A0522D';\r\n        ctx.fillRect(platform.x + 2, platform.y + 2, platform.width - 4, platform.height - 4);\r\n      }\r\n    });\r\n\r\n    // Draw turtles\r\n    this.turtles.forEach(turtle => turtle.render(ctx));\r\n  }\r\n\r\n  public checkCollisions(player: Player): void {\r\n    const playerBounds = player.getBounds();\r\n    let onGround = false;\r\n\r\n    this.platforms.forEach(platform => {\r\n      // Check if player is colliding with platform\r\n      if (playerBounds.x < platform.x + platform.width &&\r\n          playerBounds.x + playerBounds.width > platform.x &&\r\n          playerBounds.y < platform.y + platform.height &&\r\n          playerBounds.y + playerBounds.height > platform.y) {\r\n        \r\n        // Check if player is falling onto platform from above\r\n        if (player.getVelocityY() > 0 && playerBounds.y < platform.y) {\r\n          player.setPosition(player.x, platform.y - playerBounds.height);\r\n          player.setVelocityY(0);\r\n          player.setOnGround(true);\r\n          onGround = true;\r\n        }\r\n      }\r\n    });\r\n\r\n    // Check if player is on ground level\r\n    if (playerBounds.y + playerBounds.height >= 550) {\r\n      player.setPosition(player.x, 550 - playerBounds.height);\r\n      player.setVelocityY(0);\r\n      player.setOnGround(true);\r\n      onGround = true;\r\n    }\r\n\r\n    if (!onGround) {\r\n      player.setOnGround(false);\r\n    }\r\n\r\n    // Check collisions with turtles\r\n    this.turtles.forEach(turtle => {\r\n      const turtleBounds = { x: turtle.x, y: turtle.y, width: 32, height: 32 };\r\n\r\n      if (\r\n        playerBounds.x < turtleBounds.x + turtleBounds.width &&\r\n        playerBounds.x + playerBounds.width > turtleBounds.x &&\r\n        playerBounds.y < turtleBounds.y + turtleBounds.height &&\r\n        playerBounds.y + playerBounds.height > turtleBounds.y\r\n      ) {\r\n        if (player.getVelocityY() > 0 && playerBounds.y + playerBounds.height <= turtleBounds.y + 10) {\r\n          // Player defeats the turtle by jumping on it\r\n          this.turtles = this.turtles.filter(t => t !== turtle);\r\n        } else {\r\n          // Player loses if touching the turtle from the side or bottom\r\n          player.loseLife();\r\n          if (player.getLives() <= 0) {\r\n            this.endGame(false); // Lose condition\r\n          } else {\r\n            player.setPosition(100, 400); // Reset player position\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    if (this.turtles.length === 0) {\r\n      this.endGame(true); // Win condition\r\n    }\r\n  }\r\n\r\n  public endGame(won: boolean): void {\r\n    if (!this.gameRunning) return; // Prevent multiple calls to endGame\r\n\r\n    this.gameRunning = false; // Stop the game loop\r\n    this.gameRunning = false; // Stop the game loop to prevent repeated calls\r\n\r\n    if (won) {\r\n      const message = document.createElement('div');\r\n      message.textContent = 'Level 1 Complete! Loading Level 2...';\r\n      message.style.position = 'absolute';\r\n      message.style.top = '50%';\r\n      message.style.left = '50%';\r\n      message.style.transform = 'translate(-50%, -50%)';\r\n      message.style.color = 'white';\r\n      message.style.fontSize = '24px';\r\n      message.style.backgroundColor = 'rgba(0, 0, 0, 0.7)';\r\n      message.style.padding = '10px';\r\n      message.style.borderRadius = '5px';\r\n      document.body.appendChild(message);\r\n\r\n      setTimeout(() => {\r\n        const game = new Game(document.getElementById('gameCanvas') as HTMLCanvasElement);\r\n        game.loadLevel2();\r\n      }, 2000);\r\n    } else {\r\n      const message = document.createElement('div');\r\n      message.textContent = 'Game Over! Restarting...';\r\n      message.style.position = 'absolute';\r\n      message.style.top = '50%';\r\n      message.style.left = '50%';\r\n      message.style.transform = 'translate(-50%, -50%)';\r\n      message.style.color = 'white';\r\n      message.style.fontSize = '24px';\r\n      message.style.backgroundColor = 'rgba(0, 0, 0, 0.7)';\r\n      message.style.padding = '10px';\r\n      message.style.borderRadius = '5px';\r\n      document.body.appendChild(message);\r\n\r\n      setTimeout(() => window.location.reload(), 2000);\r\n    }\r\n  }\r\n}\r\n","export class FlyingEnemy {\r\n  public x: number;\r\n  public y: number;\r\n  private width: number = 32;\r\n  private height: number = 32;\r\n  private velocityX: number = 100; // Horizontal speed\r\n  // Removed unused velocityY\r\n  private amplitude: number = 20; // Oscillation amplitude\r\n  private baseY: number;\r\n\r\n  constructor(x: number, y: number) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.baseY = y;\r\n  }\r\n\r\n  public update(deltaTime: number): void {\r\n    const dt = deltaTime / 1000; // Convert to seconds\r\n\r\n    // Move horizontally\r\n    this.x += this.velocityX * dt;\r\n\r\n    // Oscillate vertically\r\n    this.y = this.baseY + Math.sin(Date.now() / 500) * this.amplitude;\r\n\r\n    // Reverse direction if hitting screen edges\r\n    if (this.x < 0 || this.x + this.width > 800) {\r\n      this.velocityX *= -1;\r\n    }\r\n  }\r\n\r\n  public render(ctx: CanvasRenderingContext2D): void {\r\n    // Draw flying enemy (simple red rectangle)\r\n    ctx.fillStyle = '#FF0000'; // Red body\r\n    ctx.fillRect(this.x, this.y, this.width, this.height);\r\n\r\n    // Draw wings\r\n    ctx.fillStyle = '#FFA500'; // Orange wings\r\n    ctx.fillRect(this.x - 5, this.y + 10, 10, 5);\r\n    ctx.fillRect(this.x + 27, this.y + 10, 10, 5);\r\n  }\r\n\r\n  public getBounds() {\r\n    return {\r\n      x: this.x,\r\n      y: this.y,\r\n      width: this.width,\r\n      height: this.height,\r\n    };\r\n  }\r\n}","import { Player } from './Player';\r\nimport { FlyingEnemy } from './FlyingEnemy';\r\nimport { Turtle } from './Turtle';\r\nimport { Level } from './Level';\r\n\r\nexport class Level2 extends Level {\r\n  protected platforms: Array<{ x: number; y: number; width: number; height: number }> = []; // Changed from private to protected\r\n  protected turtles: Turtle[] = [];\r\n  protected flyingEnemies: FlyingEnemy[] = [];\r\n\r\n  protected gameRunning: boolean = true; // Changed from private to protected\r\n\r\n  constructor() {\r\n    super();\r\n    this.createLevel();\r\n    this.spawnEnemies();\r\n  }\r\n\r\n  protected createLevel(): void {\r\n    // Responsive ground platform (fills canvas width)\r\n    const canvas = document.getElementById('gameCanvas') as HTMLCanvasElement;\r\n    const width = canvas ? canvas.width : 1900;\r\n    const height = canvas ? canvas.height : 900;\r\n    const groundHeight = Math.round(height * 0.1); // Higher ground for better jump\r\n    this.platforms.push({ x: 0, y: height - groundHeight, width: width, height: groundHeight });\r\n\r\n    // Responsive floating platforms (higher for Mario's jump)\r\n    this.platforms.push({ x: width * 0.12, y: height * 0.60, width: width * 0.09, height: 24 });\r\n    this.platforms.push({ x: width * 0.32, y: height * 0.48, width: width * 0.10, height: 24 });\r\n    this.platforms.push({ x: width * 0.54, y: height * 0.36, width: width * 0.10, height: 24 });\r\n    this.platforms.push({ x: width * 0.72, y: height * 0.26, width: width * 0.09, height: 24 });\r\n    this.platforms.push({ x: width * 0.85, y: height * 0.16, width: width * 0.08, height: 24 });\r\n  }\r\n\r\n  private spawnEnemies(): void {\r\n    this.spawnTurtles();\r\n\r\n    // Place flying enemies above platforms for visibility\r\n    const canvas = document.getElementById('gameCanvas') as HTMLCanvasElement;\r\n    const width = canvas ? canvas.width : 1900;\r\n    const height = canvas ? canvas.height : 900;\r\n    this.flyingEnemies.push(new FlyingEnemy(width * 0.15, height * 0.55));\r\n    this.flyingEnemies.push(new FlyingEnemy(width * 0.60, height * 0.32));\r\n  }\r\n\r\n  protected spawnTurtles(): void {\r\n    const canvas = document.getElementById('gameCanvas') as HTMLCanvasElement;\r\n    const width = canvas ? canvas.width : 1900;\r\n    const height = canvas ? canvas.height : 900;\r\n    const groundHeight = Math.round(height * 0.13);\r\n    const groundY = height - groundHeight;\r\n    // Place turtles on ground, spaced out\r\n    this.turtles.push(new Turtle(width * 0.25, groundY - 32));\r\n    this.turtles.push(new Turtle(width * 0.55, groundY - 32));\r\n  }\r\n\r\n  public update(deltaTime: number): void {\r\n    if (!this.gameRunning) return;\r\n\r\n    this.turtles.forEach((turtle) => turtle.update(deltaTime));\r\n    this.flyingEnemies.forEach((enemy) => enemy.update(deltaTime));\r\n  }\r\n\r\n  public render(ctx: CanvasRenderingContext2D): void {\r\n    // Draw platforms\r\n    this.platforms.forEach((platform, idx) => {\r\n      if (idx === 0) {\r\n        // Ground platform: fill entire bottom\r\n        ctx.fillStyle = '#90EE90'; // Green ground\r\n        ctx.fillRect(0, platform.y, ctx.canvas.width, ctx.canvas.height - platform.y);\r\n      } else {\r\n        ctx.fillStyle = '#8B4513'; // Brown color for platforms\r\n        ctx.fillRect(platform.x, platform.y, platform.width, platform.height);\r\n        // Add some texture\r\n        ctx.fillStyle = '#A0522D';\r\n        ctx.fillRect(platform.x + 2, platform.y + 2, platform.width - 4, platform.height - 4);\r\n      }\r\n    });\r\n\r\n    // Draw turtles\r\n    this.turtles.forEach((turtle) => turtle.render(ctx));\r\n\r\n    // Draw flying enemies\r\n    this.flyingEnemies.forEach((enemy) => enemy.render(ctx));\r\n  }\r\n\r\n  public checkCollisions(player: Player): void {\r\n    const playerBounds = player.getBounds();\r\n    let onGround = false;\r\n\r\n    this.platforms.forEach((platform) => {\r\n      // Check if player is colliding with platform\r\n      if (\r\n        playerBounds.x < platform.x + platform.width &&\r\n        playerBounds.x + playerBounds.width > platform.x &&\r\n        playerBounds.y < platform.y + platform.height &&\r\n        playerBounds.y + playerBounds.height > platform.y\r\n      ) {\r\n        // Check if player is falling onto platform from above\r\n        if (player.getVelocityY() > 0 && playerBounds.y < platform.y) {\r\n          player.setPosition(player.x, platform.y - playerBounds.height);\r\n          player.setVelocityY(0);\r\n          player.setOnGround(true);\r\n          onGround = true;\r\n        }\r\n      }\r\n    });\r\n\r\n    if (!onGround) {\r\n      player.setOnGround(false);\r\n    }\r\n\r\n    // Check collisions with turtles\r\n    this.turtles.forEach((turtle) => {\r\n      const turtleBounds = turtle.getBounds();\r\n\r\n      if (\r\n        playerBounds.x < turtleBounds.x + turtleBounds.width &&\r\n        playerBounds.x + playerBounds.width > turtleBounds.x &&\r\n        playerBounds.y < turtleBounds.y + turtleBounds.height &&\r\n        playerBounds.y + playerBounds.height > turtleBounds.y\r\n      ) {\r\n        if (player.getVelocityY() > 0 && playerBounds.y + playerBounds.height <= turtleBounds.y + 10) {\r\n          // Player defeats the turtle by jumping on it\r\n          this.turtles = this.turtles.filter((t) => t !== turtle);\r\n        } else {\r\n          // Player loses if touching the turtle from the side or bottom\r\n          player.loseLife();\r\n        }\r\n      }\r\n    });\r\n\r\n    // Check collisions with flying enemies\r\n    this.flyingEnemies.forEach((enemy) => {\r\n      const enemyBounds = enemy.getBounds();\r\n\r\n      if (\r\n        playerBounds.x < enemyBounds.x + enemyBounds.width &&\r\n        playerBounds.x + playerBounds.width > enemyBounds.x &&\r\n        playerBounds.y < enemyBounds.y + enemyBounds.height &&\r\n        playerBounds.y + playerBounds.height > enemyBounds.y\r\n      ) {\r\n        // Player loses if touching a flying enemy\r\n        player.loseLife();\r\n      }\r\n    });\r\n  }\r\n\r\n  public endGame(won: boolean): void {\r\n    if (won) {\r\n      const message = document.createElement('div');\r\n      message.textContent = 'Congratulations! You have completed the game!';\r\n      message.style.position = 'absolute';\r\n      message.style.top = '50%';\r\n      message.style.left = '50%';\r\n      message.style.transform = 'translate(-50%, -50%)';\r\n      message.style.color = 'white';\r\n      message.style.fontSize = '24px';\r\n      message.style.backgroundColor = 'rgba(0, 0, 0, 0.7)';\r\n      message.style.padding = '10px';\r\n      message.style.borderRadius = '5px';\r\n      document.body.appendChild(message);\r\n\r\n      // Add a play again button\r\n      const playAgainBtn = document.createElement('button');\r\n      playAgainBtn.textContent = 'Play Again';\r\n      playAgainBtn.style.position = 'absolute';\r\n      playAgainBtn.style.top = '60%';\r\n      playAgainBtn.style.left = '50%';\r\n      playAgainBtn.style.transform = 'translate(-50%, -50%)';\r\n      playAgainBtn.style.padding = '10px 20px';\r\n      playAgainBtn.style.fontSize = '18px';\r\n      playAgainBtn.style.cursor = 'pointer';\r\n      playAgainBtn.onclick = () => window.location.reload();\r\n      document.body.appendChild(playAgainBtn);\r\n    } else {\r\n      const message = document.createElement('div');\r\n      message.textContent = 'Game Over! Restarting...';\r\n      message.style.position = 'absolute';\r\n      message.style.top = '50%';\r\n      message.style.left = '50%';\r\n      message.style.transform = 'translate(-50%, -50%)';\r\n      message.style.color = 'white';\r\n      message.style.fontSize = '24px';\r\n      message.style.backgroundColor = 'rgba(0, 0, 0, 0.7)';\r\n      message.style.padding = '10px';\r\n      message.style.borderRadius = '5px';\r\n      document.body.appendChild(message);\r\n\r\n      setTimeout(() => window.location.reload(), 2000);\r\n    }\r\n  }\r\n}","export class InputManager {\n  private keys: Map<string, boolean> = new Map();\n\n  public setKeyState(key: string, pressed: boolean): void {\n    this.keys.set(key, pressed);\n    console.log(`Touch event: ${key} set to ${pressed}`);\n  }\n\n  public isKeyPressed(key: string): boolean {\n    return this.keys.get(key) || false;\n  }\n\n  public isKeyJustPressed(key: string): boolean {\n    // This would need to track previous frame state for proper implementation\n    // For now, just return the current state\n    return this.keys.get(key) || false;\n  }\n\n  public initializeTouchControls(): void {\n    const leftButton = document.getElementById('leftButton');\n    const rightButton = document.getElementById('rightButton');\n    const jumpButton = document.getElementById('jumpButton');\n\n    if (leftButton) {\n      leftButton.addEventListener('touchstart', () => this.setKeyState('ArrowLeft', true));\n      leftButton.addEventListener('touchend', () => this.setKeyState('ArrowLeft', false));\n      leftButton.addEventListener('mousedown', () => this.setKeyState('ArrowLeft', true));\n      leftButton.addEventListener('mouseup', () => this.setKeyState('ArrowLeft', false));\n    }\n\n    if (rightButton) {\n      rightButton.addEventListener('touchstart', () => this.setKeyState('ArrowRight', true));\n      rightButton.addEventListener('touchend', () => this.setKeyState('ArrowRight', false));\n      rightButton.addEventListener('mousedown', () => this.setKeyState('ArrowRight', true));\n      rightButton.addEventListener('mouseup', () => this.setKeyState('ArrowRight', false));\n    }\n\n    if (jumpButton) {\n      jumpButton.addEventListener('touchstart', () => this.setKeyState('Space', true));\n      jumpButton.addEventListener('touchend', () => this.setKeyState('Space', false));\n      jumpButton.addEventListener('mousedown', () => this.setKeyState('Space', true));\n      jumpButton.addEventListener('mouseup', () => this.setKeyState('Space', false));\n    }\n  }\n}\n","import { Player } from './Player';\r\nimport { Level } from './Level';\r\nimport { Level2 } from './Level2';\r\nimport { InputManager } from './InputManager';\r\n\r\nexport class Game {\r\n  private canvas: HTMLCanvasElement;\r\n  private ctx: CanvasRenderingContext2D;\r\n  private player: Player;\r\n  private level: Level;\r\n  private inputManager: InputManager;\r\n  private lastTime: number = 0;\r\n  private score: number = 0;\r\n  private lives: number = 3;\r\n  private gameRunning: boolean = false;\r\n\r\n  constructor(canvas: HTMLCanvasElement) {\r\n  this.canvas = canvas;\r\n  this.ctx = canvas.getContext('2d')!;\r\n  this.inputManager = new InputManager();\r\n  this.level = new Level();\r\n  // Place Mario on the ground, centered horizontally\r\n  const groundY = this.canvas.height - Math.round(this.canvas.height * 0.10);\r\n  this.player = new Player(this.canvas.width * 0.08, groundY - 32); // 32 = Mario's height\r\n  this.setupEventListeners();\r\n  this.inputManager.initializeTouchControls();\r\n  }\r\n\r\n  private setupEventListeners(): void {\r\n    // Touch controls for mobile\r\n    this.canvas.addEventListener('touchstart', (e) => {\r\n      e.preventDefault();\r\n      const touch = e.touches[0];\r\n      const rect = this.canvas.getBoundingClientRect();\r\n      const x = touch.clientX - rect.left;\r\n      \r\n      // Simple touch controls - left half for left, right half for right\r\n      if (x < this.canvas.width / 2) {\r\n        this.inputManager.setKeyState('ArrowLeft', true);\r\n      } else {\r\n        this.inputManager.setKeyState('ArrowRight', true);\r\n      }\r\n    });\r\n\r\n    this.canvas.addEventListener('touchend', (e) => {\r\n      e.preventDefault();\r\n      this.inputManager.setKeyState('ArrowLeft', false);\r\n      this.inputManager.setKeyState('ArrowRight', false);\r\n    });\r\n\r\n    // Keyboard controls\r\n    document.addEventListener('keydown', (e) => {\r\n      this.inputManager.setKeyState(e.code, true);\r\n    });\r\n\r\n    document.addEventListener('keyup', (e) => {\r\n      this.inputManager.setKeyState(e.code, false);\r\n    });\r\n  }\r\n\r\n  public start(): void {\r\n    this.gameRunning = true;\r\n    this.gameLoop(0);\r\n  }\r\n\r\n  private gameLoop(currentTime: number): void {\r\n    if (!this.gameRunning) return;\r\n\r\n    const deltaTime = currentTime - this.lastTime;\r\n    this.lastTime = currentTime;\r\n\r\n    this.update(deltaTime);\r\n    this.render();\r\n\r\n    requestAnimationFrame((time) => this.gameLoop(time));\r\n  }\r\n\r\n  private update(deltaTime: number): void {\r\n    // Update player\r\n    this.player.update(deltaTime, this.inputManager);\r\n    \r\n    // Update level (including enemies)\r\n    this.level.update(deltaTime);\r\n    \r\n    // Check collisions\r\n    this.checkCollisions();\r\n    \r\n    // Update UI\r\n    this.updateUI();\r\n  }\r\n\r\n  private checkCollisions(): void {\r\n    // Check if player fell off the level\r\n    if (this.player.y > this.canvas.height) {\r\n      this.playerDie();\r\n    }\r\n\r\n    // Check collisions with platforms\r\n    this.level.checkCollisions(this.player);\r\n  }\r\n\r\n  private playerDie(): void {\r\n    this.lives--;\r\n    if (this.lives <= 0) {\r\n      this.gameOver();\r\n    } else {\r\n      this.player.reset(100, 400);\r\n    }\r\n  }\r\n\r\n  private gameOver(): void {\r\n    this.gameRunning = false;\r\n    alert('Game Over! Final Score: ' + this.score);\r\n    // Reset game\r\n    this.score = 0;\r\n    this.lives = 3;\r\n    this.player.reset(100, 400);\r\n    this.start();\r\n  }\r\n\r\n  private updateUI(): void {\r\n    const scoreElement = document.getElementById('score');\r\n    // Update lives display\r\n    const livesElement = document.getElementById('lives');\r\n    \r\n    if (scoreElement) scoreElement.textContent = this.score.toString();\r\n    if (livesElement) livesElement.textContent = this.lives.toString();\r\n  }\r\n\r\n  private render(): void {\r\n    // Clear canvas\r\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n    \r\n    // Draw level\r\n    this.level.render(this.ctx);\r\n    \r\n    // Draw player\r\n    this.player.render(this.ctx);\r\n  }\r\n\r\n  public loadLevel2(): void {\r\n    this.level = new Level2();\r\n    this.start();\r\n  }\r\n}\r\n","import { Game } from './game/Game';\n\n// Initialize the game when the page loads\ndocument.addEventListener('DOMContentLoaded', () => {\n  const canvas = document.getElementById('gameCanvas') as HTMLCanvasElement;\n  const game = new Game(canvas);\n  game.start();\n});\n"],"names":["Player","x","y","__publicField","deltaTime","inputManager","dt","canvas","maxWidth","ctx","onGround","velocity","Turtle","BaseLevel","won","message","Level","width","height","groundHeight","turtle","platform","idx","player","playerBounds","turtleBounds","t","Game","FlyingEnemy","Level2","groundY","enemy","enemyBounds","playAgainBtn","InputManager","key","pressed","leftButton","rightButton","jumpButton","e","touch","rect","currentTime","time","scoreElement","livesElement"],"mappings":"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"}